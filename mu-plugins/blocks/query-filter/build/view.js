!function(){"use strict";var e=window.wp.i18n,t=window.wp.interactivity;const r=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];function o(e){const{context:t}=e;t.wporg.queryFilter.isOpen=!1,t.wporg.queryFilter.form?.reset();const r=t.wporg.queryFilter.form?.querySelectorAll("input:checked").length;i(e,r),document.documentElement.classList.remove("is-query-filter-open")}function i(t,r){const{context:o}=t;if(!o.wporg.queryFilter.form)return;const i=o.wporg.queryFilter.form.querySelector('input[type="submit"]'),l=o.wporg.queryFilter.form.querySelector(".wporg-query-filter__modal-action-clear");o.wporg.queryFilter.hasMultiple&&(
/* translators: %s is count of currently selected filters. */
i.value=r?(0,e.sprintf)((0,e.__)("Apply (%s)","wporg"),r):(0,e.__)("Apply","wporg")),l.setAttribute("aria-disabled",r?"false":"true")}(0,t.store)({actions:{wporg:{queryFilter:{toggle:e=>{const{context:t}=e;t.wporg.queryFilter.isOpen?o(e):(t.wporg.queryFilter.isOpen=!0,document.documentElement.classList.add("is-query-filter-open"))},handleKeydown:e=>{const{context:t,event:r}=e;if("Escape"===r.key)return o(e),void t.wporg.queryFilter.toggleButton.focus();"Tab"===r.key&&(r.shiftKey&&window.document.activeElement===t.wporg.queryFilter.firstFocusableElement?(r.preventDefault(),t.wporg.queryFilter.lastFocusableElement.focus()):r.shiftKey||window.document.activeElement!==t.wporg.queryFilter.lastFocusableElement||(r.preventDefault(),t.wporg.queryFilter.firstFocusableElement.focus()))},handleFormChange:e=>{const{context:t}=e;i(e,t.wporg.queryFilter.form.querySelectorAll("input:checked").length)},clearSelection:e=>{const{context:t,ref:r}=e;"true"!==r.getAttribute("aria-disabled")&&(t.wporg.queryFilter.form.querySelectorAll("input").forEach((e=>e.checked=!1)),i(e,0))}}}},effects:{wporg:{queryFilter:{init:e=>{let{context:t,ref:o}=e;if(t.wporg.queryFilter.toggleButton=o.querySelector(".wporg-query-filter__toggle"),t.wporg.queryFilter.form=o.querySelector("form"),t.wporg.queryFilter.isOpen){const e=o.querySelectorAll(r);t.wporg.queryFilter.firstFocusableElement=e[0],t.wporg.queryFilter.lastFocusableElement=e[e.length-1]}},checkPosition:e=>{let{context:t,ref:r}=e;t.wporg.queryFilter.isOpen&&r.getBoundingClientRect().left<0&&(r.style.left=0)},focusFirstElement:e=>{let{context:t,ref:r}=e;t.wporg.queryFilter.isOpen&&r.querySelector("form input:first-child").focus()}}}}})}();